<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Workflow | Why I wrote my Thesis in R Markdown</title>
  <meta name="description" content="This is a short post about why R Markdown rules" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Workflow | Why I wrote my Thesis in R Markdown" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a short post about why R Markdown rules" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Workflow | Why I wrote my Thesis in R Markdown" />
  
  <meta name="twitter:description" content="This is a short post about why R Markdown rules" />
  

<meta name="author" content="Michael Briehl" />


<meta name="date" content="2019-07-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="GetStarted.html">
<link rel="next" href="CodeChunks.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Quick R Markdown Tutorial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="GetStarted.html"><a href="GetStarted.html"><i class="fa fa-check"></i>Get Started</a></li>
<li class="chapter" data-level="" data-path="Workflow.html"><a href="Workflow.html"><i class="fa fa-check"></i>Workflow</a><ul>
<li class="chapter" data-level="" data-path="Workflow.html"><a href="Workflow.html#Feather"><i class="fa fa-check"></i>Feather</a></li>
<li class="chapter" data-level="" data-path="Workflow.html"><a href="Workflow.html#RDA"><i class="fa fa-check"></i>RDS</a></li>
<li class="chapter" data-level="" data-path="Workflow.html"><a href="Workflow.html#Experiments"><i class="fa fa-check"></i>Experiments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="CodeChunks.html"><a href="CodeChunks.html"><i class="fa fa-check"></i>Code Chunks</a></li>
<li class="chapter" data-level="" data-path="Figures.html"><a href="Figures.html"><i class="fa fa-check"></i>Figures</a></li>
<li class="chapter" data-level="" data-path="Tables.html"><a href="Tables.html"><i class="fa fa-check"></i>Tables</a></li>
<li class="chapter" data-level="" data-path="TheYAMLheader.html"><a href="TheYAMLheader.html"><i class="fa fa-check"></i>The YAML header</a><ul>
<li class="chapter" data-level="" data-path="TheYAMLheader.html"><a href="TheYAMLheader.html#Margin"><i class="fa fa-check"></i>Margin</a></li>
<li class="chapter" data-level="" data-path="TheYAMLheader.html"><a href="TheYAMLheader.html#Fontsize"><i class="fa fa-check"></i>Fontsize</a></li>
<li class="chapter" data-level="" data-path="TheYAMLheader.html"><a href="TheYAMLheader.html#Other"><i class="fa fa-check"></i>Other</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="References.html"><a href="References.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Why I wrote my Thesis in R Markdown</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Workflow" class="section level1 unnumbered">
<h1>Workflow</h1>
<p>There are different approaches of working with R Markdown. Before you start writing your thesis, it is important that you decide on how much code you want to include in the .Rmd file.</p>
<p>You can code <strong>everything</strong> in the R Markdown file, but I found that this may not be the best idea. As much as I like to keep things in one place, I would recommend you to do the ‘ugly’ part of coding in a normal R file, and just include light code in the R Markdown file. The reasoning is twofold. First, there is not much to be gained if you do the data preparation in Markdown, if you are not explicitly using it in your text. It will just extend the rendering time in the end. Secondly, I think the file gets really confusing, the bigger it gets.</p>
<p>I did my data wrangling in a diffent file and saved the final data frame as a ‘feather’-file which is really fast.</p>
<div id="Feather" class="section level2 unnumbered">
<h2>Feather</h2>
<p>Installing the feather package can save you loads of time when dealing with big data sets. Instead of always reading in your data with read.csv or read.xls you just use read feather, which is so much faster. After the first time your data is in the global environment you should use:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(feather)
<span class="kw">write_feather</span>(your_data, <span class="st">&quot;your_data.feather&quot;</span>)</code></pre>
<p>Now your data is saved as a feather file and can be quickly read in your next R session with:</p>
<pre class="sourceCode r"><code class="sourceCode r">your_data &lt;-<span class="st"> </span><span class="kw">read_feather</span>(<span class="st">&quot;your_data.feather&quot;</span>)</code></pre>
<p>Feather is really great for dealing with big data frames, but cannot save R objects.</p>
</div>
<div id="RDA" class="section level2 unnumbered">
<h2>RDS</h2>
<p>RDS is a way of caching R objects or data frames. Although you should use feather when dealing with data frames, because it is quicker, you need RDS for saving R objects. I ran pretty big random forest models for my thesis and instead of doing that every time, I saved the output:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">saveRDS</span>(big_object, <span class="st">&quot;big_object.rds&quot;</span>)</code></pre>
<p>As with feather you can just read the output again with:</p>
<pre class="sourceCode r"><code class="sourceCode r">big_object &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;big_object.rds&quot;</span>)</code></pre>
<p>Because I did the heavy coding in different files, I only read in the output with either feather or RDS in my R Markdown file.</p>
<p>Note that this only works if all your data is in the same working directory as your ‘heavy’-lifting files. You should just point the working directory of all files into one folder.</p>
</div>
<div id="Experiments" class="section level2 unnumbered">
<h2>Experiments</h2>
<p>As your R Markdown file gets bigger, the rendering time also extends. For your last format changes, it is probably helpfull if you generate a different file with which you can experiment. Especially for things like your cover or the ‘Einverständniserklärung’ you do not want to render the whole document. For all my direct <span class="math inline">\(LaTeX\)</span> stuff and tables I experimented in a different file.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="GetStarted.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="CodeChunks.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["Why I wrote my thesis in R Markdown.pdf", "Why I wrote my thesis in R Markdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
